<div class="container px-5 px-sm-0">
  
  <!--ジャンルの編集に成功したときに表示される-->
  <div style="color:limegreen;">
   <%= flash[:notice] %>
  </div>
  
  <!--エラーメッセージ-->
  <% if @genre.errors.any? %>
  
   <%= @genre.errors.count %>件のエラーが発生しました
  
   <ul>
    <% @genre.errors.full_messages.each do |message| %>
      <li><%= message %></li>
    <% end %>
   </ul>
  
  <% end %>
  
  <h4 class="pt-md-1">ジャンル一覧・追加</h4>
    
  <!--ジャンルを追加するフォーム-->
  <%= form_with model: @genre, url: admin_genres_path, method: :post, local: true do |f| %>
    
    <div>
      <%=f.label :ジャンル名 %>
    </div>
    
    <table>
    
      <td>
        <%=f.text_field :name, class: 'form-control', placeholder: "ジャンル名" %>
      </td>
    
      <td>
        <%=f.submit '新規登録', class: 'btn btn-success'%>
      </td>
    
    </table>
    
  <% end %>

 <div class="row">
   
   <div class="col-3 pt-md-5">
   
    <!--現在登録されているジャンルが表示される-->
    <table class="table">
   
      <thead>
        <tr>
          <th>ジャンル</th>
          <th colspan="2"></th>
        </tr>
      </thead>
   
      <tbody>
        <% @genres.each do |genre| %>
          <tr>
            <td><%= genre.name %></td>
            <td>
              <%= link_to "編集する", edit_admin_genre_path(genre.id),  class: 'btn btn-success' %>
            </td>
          </tr>
        <% end %>
      </tbody>
      
    </table>
    
    </div>
    
  </div>
  
</div>